<template>
    <div class="slds-p-top_x-small">
        <builder_platform_interaction-action-selector
            class="slds-col slds-size_3-of-3"
            selected-action={selectedAction}
            error-message={actionErrorMessage}
            invocable-actions={availableActions}
            invocable-actions-fetched={isActionsFetched}
            selected-category={selectedCategory}
            selected-filter-by={selectedFilterBy}
            onvaluechanged={handleActionSelected}
            oncannotretrieveactions={handleCannotRetrieveActions}
            flow-process-type={processType}
            label-override={actionSelectorLabel}
            required={required}
            field-level-help={actionTooltipLabel}
        >
        </builder_platform_interaction-action-selector>
    </div>
    <div class="slds-p-top_x-small" if:true={showOpenFlow}>
        <lightning-button
            label={labels.openFlowLabel}
            onclick={handleOpenFlowClicked}
            icon-name="utility:new_window"
            icon-position="right"
            class="open-flow"
        ></lightning-button>
    </div>
    <div if:true={showExternalCalloutsCheckbox} class="slds-p-top_small slds-grid">
        <lightning-input
            type="checkbox"
            class="externalCalloutsCheckbox"
            label={labels.containsExternalCalloutsLabel}
            name="externalCalloutsCB"
            checked={requiresAsyncProcessing}
            onchange={handleCheckboxClicked}
        ></lightning-input>
        <lightning-helptext content={labels.containsExternalCalloutsTooltip}></lightning-helptext>
    </div>
    <div if:true={showParameterList}>
        <h3 if:false={isActionInputsEmpty} class="slds-text-color_weak slds-text-heading_small inputHeader">
            {actionParameterListConfig.inputHeader}
        </h3>
        <builder_platform_interaction-parameter-list
            inputs={actionParameterListConfig.inputs}
            outputs={actionParameterListConfig.outputs}
            warnings={actionParameterListConfig.warnings}
            input-header={actionParameterListConfig.inputHeader}
            output-header={actionParameterListConfig.outputHeader}
            element-type={actionElementType}
            sort-inputs={actionParameterListConfig.sortInputs}
            sort-outputs={actionParameterListConfig.sortOutputs}
            empty-inputs-title={actionParameterListConfig.emptyInputsTitle}
            empty-inputs-body={actionParameterListConfig.emptyInputsBody}
            empty-inputs-outputs-title={actionParameterListConfig.emptyInputsOutputsTitle}
            empty-inputs-outputs-body={actionParameterListConfig.emptyInputsOutputsBody}
            store-output-automatically={actionParameterListConfig.storeOutputAutomatically}
            automatic-output-handling-supported={actionParameterListConfig.automaticOutputHandlingSupported}
            element-info={actionElementInfo}
        ></builder_platform_interaction-parameter-list>
    </div>
</template>
