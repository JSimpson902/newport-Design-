<template>
    <div class="slds-form slds-form_compound slds-p-around_small">
        <builder_platform_interaction-label-description
            dev-name={formulaResource.name}
            description={formulaResource.description}
            guid={formulaResource.guid}
            hide-label="true"
            onpropertychanged={handlePropertyChanged}
            mode={mode}
        >
        </builder_platform_interaction-label-description>

        <builder_platform_interaction-data-type-picker
            available-data-types={dataTypes}
            value={selectedDataType}
            type-and-collection-disabled={isEditMode}
            onvaluechanged={handleDataTypeChanged}
            help-text={dataTypeHelpText}
            combobox-error-message={formulaResource.dataType.error}
            allow-scale
            required
        >
        </builder_platform_interaction-data-type-picker>

        <builder_platform_interaction-resourced-textarea
            if:false={orgHasFlowFormulaBuilder}
            hide-new-resource={hideNewResourceButton}
            for-formula
            label={labels.formulaLabel}
            name={labels.formulaLabel}
            required
            row-index={_formulaLabelId}
            spinner-alternative-text={labels.formulaValidationSpinnerAlternativeText}
            value={formulaResource.expression}
            onchange={handleFormulaExpressionChanged}
        >
        </builder_platform_interaction-resourced-textarea>

        <builder_platform_interaction-formula-builder
            if:true={orgHasFlowFormulaBuilder}
            label={labels.formulaLabel}
            name={labels.formulaLabel}
            required
            flow-process-type={processType}
            flow-trigger-type={triggerType}
            record-trigger-type={recordTriggerType}
            property-editor-element-type={elementType}
            formula-data-type={selectedDataType.dataType}
            element-name={elementName}
            resource-picker-config={resourcePickerConfig}
            value={formulaResource.expression}
            onformulatextchange={handleFormulaTextChanged}
            onformulachanged={handleFormulaExpressionChanged}
        >
        </builder_platform_interaction-formula-builder>
    </div>
</template>
