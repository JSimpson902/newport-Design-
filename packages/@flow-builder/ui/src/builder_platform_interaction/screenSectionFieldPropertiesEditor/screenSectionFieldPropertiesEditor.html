<template>
    <div class="slds-p-horizontal_small slds-p-top_x-small">
        <div class="section-header">
            <builder_platform_interaction-screen-property-field
                name="hasHeading"
                label={labels.sectionHeaderCheckboxLabel}
                type="boolean"
                value={field.hasHeading}
            >
            </builder_platform_interaction-screen-property-field>
            <lightning-helptext
                class="slds-list_inline slds-m-left_small"
                content={labels.sectionHeaderCheckboxTooltipText}
            ></lightning-helptext>
        </div>

        <!--  field label and unique name -->
        <builder_platform_interaction-label-description
            if:true={field.hasHeading}
            layout-mode="vertical"
            label={field.fieldText}
            dev-name={field.name}
            hide-description
            guid={field.guid}
            onpropertychanged={handlePropertyChanged}
        >
        </builder_platform_interaction-label-description>
    </div>
    <div class="slds-p-horizontal_small slds-p-top_x-small"></div>
    <lightning-accordion
        active-section-name={expandedSectionNames}
        allow-multiple-sections-open
        class="slds-p-top_none slds-border_top"
    >
        <lightning-accordion-section name="columns" label={labels.columnsSectionTitle} class="slds-border_bottom">
            <div slot="actions">
                <lightning-helptext
                    class="slds-list_inline slds-m-left_small"
                    content={labels.columnsTooltip}
                ></lightning-helptext>
            </div>

            <builder_platform_interaction-list
                items={columns}
                onaddlistitem={handleAdd}
                ondeletelistitem={handleDeleteColumn}
                add-label={labels.addColumn}
                max-items={maxColumns}
                max-items-label={labels.maxColumnsLabel}
            >
                <div slot="listBody">
                    <template for:each={columns} for:item="column" for:index="index">
                        <builder_platform_interaction-row
                            is-vertical
                            item-index={index}
                            is-deletable="true"
                            show-delete={isColumnDeleteEnabled}
                            key={column.guid}
                        >
                            <div slot="rowBody">
                                <lightning-combobox
                                    label={column.widthLabel}
                                    name={column.guid}
                                    value={column.width}
                                    options={column.widthOptions}
                                    onchange={column.handleWidthChange}
                                >
                                </lightning-combobox>
                            </div>
                        </builder_platform_interaction-row>
                    </template>
                </div>
            </builder_platform_interaction-list>
        </lightning-accordion-section>
        <builder_platform_interaction-screen-component-visibility-section field={field}>
        </builder_platform_interaction-screen-component-visibility-section>
    </lightning-accordion>
</template>
