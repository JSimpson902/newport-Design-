<template>
    <lightning-accordion active-section-name="columns" allow-multiple-sections-open class="slds-p-top_none">
        <lightning-accordion-section name="columns" label={labels.columnsSectionTitle}>
            <div slot="actions">
                <lightning-helptext
                    class="slds-list_inline slds-m-left_small"
                    content={labels.columnsTooltip}
                ></lightning-helptext>
            </div>

            <builder_platform_interaction-list
                items={columns}
                onaddlistitem={handleAdd}
                ondeletelistitem={handleDeleteColumn}
                add-label={labels.addColumn}
                max-items={maxColumns}
                max-items-label={labels.maxColumnsLabel}
            >
                <div slot="listBody">
                    <template for:each={columns} for:item="column" for:index="index">
                        <builder_platform_interaction-row
                            is-vertical
                            item-index={index}
                            show-delete={isColumnDeleteEnabled}
                            show-delete-button="true"
                            key={column.guid}
                        >
                            <div slot="rowBody">
                                <lightning-combobox
                                    label={column.widthLabel}
                                    name={column.guid}
                                    value={column.width}
                                    options={column.widthOptions}
                                    onchange={column.handleWidthChange}
                                >
                                </lightning-combobox>
                            </div>
                        </builder_platform_interaction-row>
                    </template>
                </div>
            </builder_platform_interaction-list>
        </lightning-accordion-section>
    </lightning-accordion>
</template>
