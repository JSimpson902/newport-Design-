<template>
    <div if:true={element}>
        <div class={styleForLabelDescription}>
            <builder_platform_interaction-label-description
                label={element.label}
                dev-name={element.name}
                description={element.description}
                guid={element.guid}
                onpropertychanged={handlePropertyChangedEvent}
                mode={mode}
                editor-params={editorParams}
            >
            </builder_platform_interaction-label-description>
        </div>
    </div>

    <lightning-accordion
        allow-multiple-sections-open
        active-section-name={openSections}
        class="slds-has-divider slds-p-top_none"
    >
        <lightning-accordion-section name="startSection" label={labels.startSectionLabel}>
            <lightning-radio-group
                label={labels.startRadioLabel}
                name="stepStart"
                value={selectedEntryCriteria}
                options={stepStartOptions}
                onchange={handleStepStartChanged}
                required
            >
            </lightning-radio-group>

            <div if:true={isStartCriteriaBasedOnStep}>
                <builder_platform_interaction-combobox
                    menu-data={entryCriteriaAvailableStepItems}
                    oncomboboxstatechanged={handleEntryCriteriaItemChanged}
                    onitemselected={handleEntryCriteriaItemChanged}
                    label={labels.whenStepIsComplete}
                    value={entryCriteriaSelectedItem}
                    placeholder={labels.entryCriteriaItemsPlaceholder}
                >
                </builder_platform_interaction-combobox>
            </div>
        </lightning-accordion-section>

        <lightning-accordion-section name="itemImplementationSection" label={labels.implementationSectionLabel}>
            <div class="slds-grid slds-grid_align-center">
                <builder_platform_interaction-action-selector
                    class="slds-col slds-size_2-of-3"
                    selected-action={selectedScreenFlow}
                    error-message={selectedActionError}
                    invocable-actions={availableScreenFlows}
                    invocable-actions-fetched={screenFlowsFetched}
                    selected-category={selectedCategory}
                    selected-filter-by={selectedFilterBy}
                    onactionsloaded={handleScreenFlowsLoaded}
                    onvaluechanged={handleScreenFlowSelected}
                    oncannotretrieveactions={handleCannotRetrieveActions}
                    flow-process-type={processType}
                >
                </builder_platform_interaction-action-selector>
            </div>
        </lightning-accordion-section>
    </lightning-accordion>
</template>
