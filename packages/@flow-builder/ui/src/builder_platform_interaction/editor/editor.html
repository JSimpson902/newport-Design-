<template>
    <div class="editor slds-grid slds-grid_frame slds-grid_vertical">
        <!--Header-->
        <builder_platform_interaction-header flow-name={appState.properties.label} flow-version={appState.properties.versionNumber}></builder_platform_interaction-header>

        <!--Toolbar-->
        <builder_platform_interaction-toolbar onsave={handleSaveFlow}></builder_platform_interaction-toolbar>

        <!--Editor-->
        <div class="editor-body slds-grid slds-grow">

            <!--Left Panel-->
            <div class="slds-col slds-size_1-of-5 slds-border_right">
                <builder_platform_interaction-left-panel onaddnewresource={handleAddResourceClick} onaddelement={handleAddElement} oneditelement={handleEditElement}></builder_platform_interaction-left-panel>
            </div>

            <!--Canvas-->
            <div class="slds-col slds-size_4-of-5">
                <builder_platform_interaction-canvas
                        nodes={appState.canvas.nodes} connectors={appState.canvas.connectors}
                        oncanvasmouseup={handleElementDeselection} oneditelement={handleEditElement} onnodeselected={handleNodeSelection}
                        ondragnodestop={handleDragNodeStop} ondeleteoncanvas={handleDeleteOnCanvas}
                        onaddconnection={handleAddConnection} onconnectorselected={handleConnectorSelection}
                        onaddelement={handleAddElement}>
                </builder_platform_interaction-canvas>
            </div>
        </div>
    </div>
</template>