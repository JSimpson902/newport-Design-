<template>
    <div if:true={showSpinner} class="slds-spinner_container">
        <lightning-spinner variant="brand" alternative-text={spinnerAlternativeText}></lightning-spinner>
    </div>
    <div class="slds-grid slds-grid_vertical slds-is-fixed slds-grid_frame">
        <div class="slds-builder-header_container slds-is-relative">
            <builder_platform_interaction-header flow-name={appState.properties.label} flow-version={appState.properties.versionNumber} back-url={backUrl} help-url={helpUrl}></builder_platform_interaction-header>
            <builder_platform_interaction-toolbar onrunflow={handleRunFlow} ondebugflow={handleDebugFlow} onsaveas={handleSaveFlow} onsave={handleSaveFlow} errors={errors} flow-status={appState.properties.status} is-run-debug-disabled={hasNotBeenSaved} is-save-disabled={disableSave} is-save-as-disabled={hasNotBeenSaved}></builder_platform_interaction-toolbar>
        </div>
        <div class="slds-col slds-grow slds-grid">
            <builder_platform_interaction-left-panel onaddnewresource={handleAddResourceClick} onaddelement={handleAddElement} oneditelement={handleEditElement} ondeleteelement={handleElementDelete}></builder_platform_interaction-left-panel>
            <div class="slds-col">
                <builder_platform_interaction-canvas if:true={shouldCreateCanvas} nodes={appState.canvas.nodes} connectors={appState.canvas.connectors}
                oncanvasmouseup={handleElementDeselection} oneditelement={handleEditElement} onnodeselected={handleNodeSelection}
                ondragnodestop={handleDragNodeStop} ondeleteelement={handleElementDelete}
                onaddconnection={handleAddConnection} onconnectorselected={handleConnectorSelection} onaddelement={handleAddElement}>
                </builder_platform_interaction-canvas>
            </div>
        </div>
    </div>
</template>