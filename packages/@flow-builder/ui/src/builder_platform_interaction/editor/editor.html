<template>
    <div class="slds-grid slds-grid_vertical slds-is-fixed slds-grid_frame">
        <div class="slds-col slds-grow-none slds-builder-header_container slds-is-relative">
            <builder_platform_interaction-header flow-name={appState.properties.label} flow-version={appState.properties.versionNumber} back-url={backUrl} help-url={helpUrl}></builder_platform_interaction-header>
            <builder_platform_interaction-toolbar onsave={handleSaveFlow}></builder_platform_interaction-toolbar>
        </div>
        <div class="slds-col slds-grow slds-grid">
            <div class="slds-col slds-panel slds-size_medium slds-border_right" aria-hidden="false">
                <div class="slds-panel__header">
                    <h2 class="slds-panel__header-title slds-text-heading_small">Flow Tools</h2>
                </div>
                <div class="slds-panel__body slds-p-around_x-small">
                    <builder_platform_interaction-left-panel onaddnewresource={handleAddResourceClick} onaddelement={handleAddElement} oneditelement={handleEditElement}></builder_platform_interaction-left-panel>
                </div>
            </div>
             <div class="slds-col">
                <builder_platform_interaction-canvas nodes={appState.canvas.nodes} connectors={appState.canvas.connectors}
                    oncanvasmouseup={handleElementDeselection} oneditelement={handleEditElement} onnodeselected={handleNodeSelection}
                    ondragnodestop={handleDragNodeStop} ondeleteoncanvas={handleDeleteOnCanvas}
                    onaddconnection={handleAddConnection} onconnectorselected={handleConnectorSelection} onaddelement={handleAddElement}>
                </builder_platform_interaction-canvas>
            </div>
        </div>
    </div>
</template>