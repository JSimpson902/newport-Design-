<template>
    <div class="editor slds-grid slds-grid_frame slds-grid_vertical">
        <!--Header-->
        <builder_platform_interaction-header></builder_platform_interaction-header>

        <!--Toolbar-->
        <builder_platform_interaction-toolbar onsave={handleSaveFlow}></builder_platform_interaction-toolbar>

        <!--Editor-->
        <div class="editor-body slds-grid slds-grow">

            <!--Left Panel-->
            <div class="slds-col slds-size_1-of-5 slds-border_right">
                <builder_platform_interaction-left-panel onaddnewresource={handleAddResourceClick} oncanvaselementdrop={handleCanvasElementDrop} onnodedblclicked={handleNodeDblClicked}></builder_platform_interaction-left-panel>
            </div>

            <!--Canvas-->
            <div class="slds-col slds-size_4-of-5">
                <builder_platform_interaction-canvas
                        nodes={appState.canvas.nodes} connectors={appState.canvas.connectors}
                        oncanvasmouseup={handleElementDeselection} onnodedblclicked={handleNodeDblClicked} onnodeselected={handleNodeSelection}
                        ondragnodestop={handleDragNodeStop} ondeleteoncanvas={handleDeleteOnCanvas}
                        onaddconnection={handleAddConnection} onconnectorselected={handleConnectorSelection}
                        oncanvaselementdrop={handleCanvasElementDrop}>
                </builder_platform_interaction-canvas>
            </div>
        </div>
    </div>
</template>