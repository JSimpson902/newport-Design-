<template>
    <div class={containerClasses}>
        <builder_platform_interaction-combobox
            class={lhsClasses}
            enable-field-drilldown
            error-message={_lhsEffectiveError}
            field-level-help={lhsLabelHelpText}
            inline-item={_lhsInlineResource}
            label={lhsLabel}
            literals-allowed="false"
            menu-data={state.lhsFilteredMenuData}
            placeholder={lhsPlaceholder}
            position="left"
            value={lhsValue}
            onaddnewresource={handleAddNewResource}
            oncomboboxstatechanged={handleLhsValueChanged}
            onfiltermatches={handleFilterLhsMatches}
            onfetchmenudata={handleFetchLhsMenuData}
            onitemselected={handleLhsItemSelected}
        >
        </builder_platform_interaction-combobox>
        <lightning-combobox
            if:false={hideOperator}
            class={operatorClasses}
            disabled={state.operatorAndRhsDisabled}
            dropdown-alignment="auto"
            label={operatorLabel}
            options={operatorMenuData}
            placeholder={operatorPlaceholder}
            value={operator}
            onchange={handleOperatorChanged}
        >
        </lightning-combobox>
        <div if:true={showOperatorIcon} class="slds-col slds-grow-none">
            <span class="slds-form-element__label slds-is-visually-empty"
                >&nbsp;</span
            >
            <div class="slds-line-height_reset slds-p-vertical_x-small">
                <lightning-icon icon-name={operatorIconName} size="x-small">
                </lightning-icon>
            </div>
        </div>
        <builder_platform_interaction-combobox
            allowed-param-types={rhsParamTypes}
            block-validation={blockRhsValidation}
            class={rhsClasses}
            disabled={state.operatorAndRhsDisabled}
            enable-field-drilldown
            error-message={rhsError}
            inline-item={_rhsInlineResource}
            label={rhsLabel}
            literals-allowed={rhsLiteralsAllowed}
            menu-data={state.rhsFilteredMenuData}
            placeholder={rhsPlaceholder}
            position="right"
            render-incrementally={state.rhsRenderIncrementally}
            type={rhsDataType}
            value={rhsValue}
            onaddnewresource={handleAddNewResource}
            oncomboboxstatechanged={handleRhsValueChanged}
            onfiltermatches={handleFilterRhsMatches}
            onfetchmenudata={handleFetchRhsMenuData}
        >
        </builder_platform_interaction-combobox>
    </div>
</template>
