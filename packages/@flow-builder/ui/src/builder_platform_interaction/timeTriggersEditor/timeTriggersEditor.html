<template>
    <div class="slds-vertical-tabs slds-is-relative slds-grow">
        <!-- Note: If the labels.timeTriggerListHeader string is long the + button goes to next line -->
        <builder_platform_interaction-reorderable-vertical-navigation
            class="slds-theme_shade slds-size_1-of-6"
            menu-items={timeTriggersWithImmediateTrigger}
            active-item-id={activeTimeTriggerId}
            onitemselected={handleTimeTriggerSelected}
            hide-footer="true"
        >
            <div slot="header" class="slds-grid">
                <span class="timeTriggerListHeader">{labels.timeTriggerListHeader}</span>
                <lightning-button-icon
                    icon-name="utility:add"
                    variant="border-filled"
                    class="slds-p-horizontal_xx-small"
                    onclick={handleAddTimeTrigger}
                    title={labels.addTimeTriggerButtonLabel}
                    alternative-text={labels.addTimeTriggerButtonLabel}
                >
                </lightning-button-icon>
            </div>
        </builder_platform_interaction-reorderable-vertical-navigation>
        <div class="slds-vertical-tabs__content slds-show slds-scrollable_y" role="tabpanel">
            <div if:true={isImmediateTimeTrigger} class="test-immediate-time-trigger">
                <h3 class="slds-shrink-none slds-grid_vertical-align-start">
                    <div class="slds-text-color_weak slds-text-body_small">
                        {labels.immediateTimeTriggerSectionDescription}
                    </div>
                </h3>
                <builder_platform_interaction-illustration
                    illustration="lakeMountain"
                    title={labels.immediateTimeTriggerDetailsDescription1}
                    body={labels.immediateTimeTriggerDetailsDescription2}
                ></builder_platform_interaction-illustration>
            </div>
            <builder_platform_interaction-time-trigger
                if:false={isImmediateTimeTrigger}
                time-trigger={activeTimeTrigger}
                object={node.object}
                record-trigger-type={node.recordTriggerType}
                ondeletetimetrigger={handleDeleteTimeTrigger}
                onpropertychanged={handlePropertyChangedEvent}
            ></builder_platform_interaction-time-trigger>
        </div>
    </div>
</template>
