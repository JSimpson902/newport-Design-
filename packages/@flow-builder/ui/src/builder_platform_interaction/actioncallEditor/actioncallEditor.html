<template>
<!-- Accordion will be put in place after talking to the global components team, probably by the end of 216 -->

    <builder_platform_interaction-accordion>
        <builder_platform_interaction-accordion-section>
            <div slot='accordion-header'>{labels.selectReferenceSectionHeader}</div>   
            <div slot='accordion-body'>
                <builder_platform_interaction-action-selector selected-action={selectedAction} onvaluechanged={handleActionSelected}></builder_platform_interaction-action-selector>
            </div>
        </builder_platform_interaction-accordion-section>
        <builder_platform_interaction-accordion-section>   
            <div slot='accordion-header'>{labels.detailsSectionHeader}</div>
            <div slot='accordion-body'>
                <div class='slds-m-bottom--x-small'>{labels.detailsSectionDescription}</div>
                <!-- Name Label Desc Component -->
                <builder_platform_interaction-label-description label={actionCallNode.label} 
                                                                      dev-name={actionCallNode.name} 
                                                                      description={actionCallNode.description}
                                                                      guid={actionCallNode.guid}
                                                                      onpropertychanged={handlePropertyChanged}>
                </builder_platform_interaction-label-description>
            </div>
        </builder_platform_interaction-accordion-section>
    </builder_platform_interaction-accordion>
    <div if:true={displaySpinner} class='slds-is-relative full-height slds-shrink'>
            <lightning-spinner alternative-text={labels.spinnerAlternativeText} size='medium' variant='brand' class='spinner'></lightning-spinner>
    </div>    
    <lightning-tabset>
        <lightning-tab id="tabitem-inputs" label={labels.inputTabHeader}>
            <!-- This will be moved to parameter-list component -->
            <div class="slds-p-horizontal_small" >
                <ul>
                    <template for:each={inputs} for:item="item" for:index="index">
                        <!-- TODO: remove when W-4538256 is implemented. Key should be a generated guid when mutating parameters-->
                        <li key={item.name}>{item.label}</li>
                        <!-- TODO: uncomment when W-4538256 is implemented -->
                        <!--
                        <builder_platform_interaction-parameter-item item={item}
                        key={item.Name} item-index={index} element-type={elementType}
                        onpropertychanged={handleUpdateParameterItem}>
                        </builder_platform_interaction-parameter-item>
                        -->
                    </template>
                </ul>
            </div>
        </lightning-tab>
        <lightning-tab id="tabitem-outputs" label={labels.outputTabHeader}>
            <!-- This will be moved to parameter-list component -->
            <div class="slds-p-horizontal_small">
                <ul>
                    <template for:each={outputs} for:item="item" for:index="index">
                        <!-- TODO: remove when W-4538256 is implemented -->
                        <li key={item.name}>{item.label}</li>
                        <!-- TODO: uncomment when W-4538256 is implemented -->
                        <!--
                        <builder_platform_interaction-parameter-item item={item} key={item.Name} item-index={index} element-type={elementType} onpropertychanged={handleUpdateParameterItem}></builder_platform_interaction-parameter-item>
                         -->
                    </template>
                </ul>
            </div>
        </lightning-tab>
    </lightning-tabset>
</template>
