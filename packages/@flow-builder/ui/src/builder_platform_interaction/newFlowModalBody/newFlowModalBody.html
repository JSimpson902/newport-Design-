<template>
    <div class="newFlowModalContainer">
        <!-- should be replaced by stencil placeholder: W-5921905 -->
        <div class="slds-grid slds-grid_align-center" if:true={showSpinner}>
            <div class="slds-col spinner">
                <lightning-spinner
                    size="medium"
                    variant="brand"
                    class="spinner"
                    alternative-text={labels.spinnerAlternativeText}
                ></lightning-spinner>
            </div>
        </div>
        <lightning-tabset if:false={showSpinner}>
            <lightning-tab
                if:true={showRecommended}
                label={labels.recommended}
                value={TAB_RECOMMENDED}
                class="recommended"
                onactive={handleTabActive}
            >
                <builder_platform_interaction-visual-picker-list
                    if:true={state.recommendedItems}
                    items={state.recommendedItems}
                    focus-on-rerendering
                    radio-group-name="recommended"
                    onvisualpickerlistchanged={handleSelectRecommendedItem}
                >
                </builder_platform_interaction-visual-picker-list>
            </lightning-tab>
            <lightning-tab
                if:true={showAllTab}
                label={labels.templates}
                value={TAB_TEMPLATES}
                class="templates"
                onactive={handleTabActive}
            >
                <div class="slds-grid">
                    <div
                        class="slds-col slds-size_small slds-grow-none slds-shrink-none slds-scrollable slds-is-relative"
                    >
                        <builder_platform_interaction-process-types-vertical-navigation
                            process-types={state.processTypes}
                            selected-process-type={state.selectedProcessType}
                            onprocesstypeselected={handleSelectProcessType}
                        >
                        </builder_platform_interaction-process-types-vertical-navigation>
                    </div>
                    <div class="slds-col templates-container slds-grow slds-shrink slds-scrollable slds-is-relative">
                        <builder_platform_interaction-process-types-templates
                            process-types={state.processTypes}
                            blank-items={state.items}
                            process-type={state.selectedProcessType}
                            radio-group-name="templates"
                            ontemplatechanged={handleSelectTemplatesItem}
                            oncannotretrievetemplates={handleCannotRetrieveTemplates}
                        >
                        </builder_platform_interaction-process-types-templates>
                    </div>
                </div>
            </lightning-tab>
        </lightning-tabset>
    </div>
</template>
