<template>
<!-- Accordion will be put in place after talking to the global components team, probably by the end of 216 -->

    <builder_platform_interaction-accordion>
        <builder_platform_interaction-accordion-section>
            <div slot='accordion-header'>{labels.selectReferenceSectionHeader}</div>   
            <div slot='accordion-body'>
                <builder_platform_interaction-action-selector selected-action={selectedAction} onvaluechanged={handleActionSelected}></builder_platform_interaction-action-selector>
            </div>
        </builder_platform_interaction-accordion-section>
        <builder_platform_interaction-accordion-section>   
            <div slot='accordion-header'>{labels.detailsSectionHeader}</div>
            <div slot='accordion-body'>
                <div class='slds-m-bottom--x-small'>{labels.detailsSectionDescription}</div>
                <!-- Name Label Desc Component -->
                <builder_platform_interaction-label-description label={label} 
                                                                      dev-name={devName} 
                                                                      description={description}
                                                                      onpropertychanged={handlePropertyChanged}>
                </builder_platform_interaction-label-description>
            </div>
        </builder_platform_interaction-accordion-section>
    </builder_platform_interaction-accordion>

    <builder_platform_interaction-tabset ontabchange={handleTabChanged}>
        <!-- Tab items go into the unnamed slot. -->
        <builder_platform_interaction-tabitem tabid="tabitem-inputs" label={labels.inputTabHeader} controls="tabcontent-inputs" activeid={activetabid}></builder_platform_interaction-tabitem>
        <builder_platform_interaction-tabitem tabid="tabitem-outputs" label={labels.outputTabHeader} controls="tabcontent-outputs" activeid={activetabid}></builder_platform_interaction-tabitem>
        
        <div slot="contents">
            <builder_platform_interaction-tabcontent contentid="tabcontent-inputs" labelledby="tabitem-inputs" activeid={activetabid}>
                <!-- This will be moved to parameter-list component -->
                <div class="slds-p-horizontal_small"  onupdateparameteritem={handleUpdateParameterItem}>
                    <ul>
                    <template for:each={inputs} for:item="item" for:index="index">
                        <!-- TODO: key should be guid, from common lib -->
                        <builder_platform_interaction-parameter-item item={item} key={item.Name} item-index={index} element-type={elementType} ></builder_platform_interaction-parameter-item>
                    </template>
                    </ul>   
                </div>  
            </builder_platform_interaction-tabcontent>
            <builder_platform_interaction-tabcontent contentid="tabcontent-outputs" labelledby="tabitem-outputs" activeid={activetabid}>
                <!-- This will be moved to parameter-list component -->
                <div class="slds-p-horizontal_small" onupdateparameteritem={handleUpdateParameterItem}>
                    <ul>
                    <template for:each={outputs} for:item="item" for:index="index">
                        <!-- TODO: key should be guid, from common lib-->
                        <builder_platform_interaction-parameter-item item={item} key={item.Name} item-index={index} element-type={elementType} ></builder_platform_interaction-parameter-item>
                    </template>
                    </ul>   
                </div>
            </builder_platform_interaction-tabcontent>
        </div>
    </builder_platform_interaction-tabset>
    
</template>
