<template>
    <div>
        <div if:true={hasPill}>
            <abbr if:true={required} class="slds-required" title={labels.requiredLabel}>*</abbr
            ><label class="slds-form-element__label">{label}</label>
            <div class="slds-pill_container" title={pillTooltip}>
                <lightning-pill
                    href="javascript:void(0);"
                    label={state.pill.label}
                    has-error={hasPillError}
                    onclick={handlePillClick}
                    onremove={handlePillRemove}
                    class="pill"
                >
                    <lightning-icon if:true={state.pill.iconName} icon-name={state.pill.iconName}> </lightning-icon
                ></lightning-pill>
            </div>
        </div>
        <lightning-grouped-combobox
            if:false={hasPill}
            label={label}
            items={state.currentMenuData}
            value={state.displayText}
            variant={variant}
            input-icon-name={state.inputIcon}
            input-text={state.displayText}
            placeholder={placeholder}
            disabled={disabled}
            show-activity-indicator={showActivityIndicator}
            onfocus={handleFocus}
            ontextinput={handleTextInput}
            onblur={handleBlur}
            onselect={handleSelect}
            onendreached={handleEndReached}
            required={required}
            field-level-help={fieldLevelHelp}
            message-when-value-missing={messageWhenValueMissing}
        >
        </lightning-grouped-combobox>
    </div>
</template>
