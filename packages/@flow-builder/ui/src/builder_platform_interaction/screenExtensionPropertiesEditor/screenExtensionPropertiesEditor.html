<template>
    <div if:true={field} class='full-height'>
        <div if:true={mergedField}>
            <section class='slds-p-horizontal_small slds-p-bottom_small'>
                <builder_platform_interaction-screen-property-field name='name' label={labels.apiNameLabel} 
                                                                    type='string' value={mergedField.name} 
                                                                    required='required'>
                </builder_platform_interaction-screen-property-field>
        
                <template for:each={mergedField.inputParameters} for:item='param'>
                    <builder_platform_interaction-screen-property-field key={param.key} name={param.apiName} data-param-type='input'
                                                                        label={param.label} type={param.dataType}
                                                                        value={param.value} required={param.isRequired} 
                                                                        allow-resources='true' resource-picker-config={param.resourcePickerConfig}
                                                                        onpropertychanged={handleInputPropertyChanged}>
                    </builder_platform_interaction-screen-property-field>
                </template>
            </section>

            <lightning-accordion if:true={hasOutputs} allow-multiple-sections-open active-section-name='outputsSection' class='slds-has-divider slds-p-top_none'>
                <!--  validation text -->
                <lightning-accordion-section name='outputsSection' label={labels.extensionOutputsHeader}>
                    <template for:each={mergedField.outputParameters} for:item='param'>
                        <builder_platform_interaction-screen-property-field key={param.key} name={param.apiName} data-param-type='output'
                                                                            label={param.label} value={param.assignToReference}
                                                                            type={param.dataType} allow-resources='true' 
                                                                            resource-picker-config={param.resourcePickerConfig} hide-top-padding={param.isFirst}
                                                                            onpropertychanged={handleOutputPropertyChanged}>
                        </builder_platform_interaction-screen-property-field>
                    </template>               
                </lightning-accordion-section>
            </lightning-accordion>
        </div>
    </div>
</template>
