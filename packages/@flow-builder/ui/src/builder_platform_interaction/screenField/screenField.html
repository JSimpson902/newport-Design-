<template>
    <div class={calculatedClass}>
        <div if:true={hasErrors}>
            <builder_platform_interaction-screen-field-card title={labels.invalidScreenfield} text={displayName} error>
            </builder_platform_interaction-screen-field-card>
        </div>
        <div if:false={hasErrors}>
            <div if:true={isExtension}>
                <builder_platform_interaction-screen-extension-field-wrapper
                    screenfield={screenfield}
                    descriptor={screenfield.type.name}
                    name={screenfield.type.name}
                    icon={screenfield.type.icon}
                    title={displayName}
                    text={labels.fieldExtensionPreviewDescription}
                    default-value={defaultValue}
                    tabindex="-1"
                >
                </builder_platform_interaction-screen-extension-field-wrapper>
            </div>

            <builder_platform_interaction-screen-input-field
                if:true={isInputFieldType}
                type-name={screenfield.type.name}
                label={fieldText}
                value={defaultValue}
                value-type={screenfield.defaultValueDataType}
                help-text={screenfield.helpText}
                required={isRequired}
                tabindex="-1"
            >
            </builder_platform_interaction-screen-input-field>
            <builder_platform_interaction-screen-display-text-field
                if:true={isDisplayTextType}
                type-name={screenfield.type.name}
                title={name}
                value={fieldText}
                tabindex="-1"
            >
            </builder_platform_interaction-screen-display-text-field>
            <builder_platform_interaction-screen-section-field
                if:true={isSectionType}
                type-name={screenfield.type.name}
                title={name}
                section={screenfield}
                selected-item-guid={selectedItemGuid}
                moved-item-guid={movedItemGuid}
            >
            </builder_platform_interaction-screen-section-field>
            <builder_platform_interaction-screen-textarea-field
                if:true={isTextAreaType}
                label={fieldText}
                value={defaultValue}
                help-text={screenfield.helpText}
                required={screenfield.isRequired}
                tabindex="-1"
            >
            </builder_platform_interaction-screen-textarea-field>
            <builder_platform_interaction-screen-choice-field
                if:true={isChoiceField}
                label={fieldText}
                field={screenfield}
                tabindex="-1"
            >
            </builder_platform_interaction-screen-choice-field>
            <!-- Automatic field with no preview available -->
            <builder_platform_interaction-screen-field-card
                if:true={isAutomaticFieldWithNoPreview}
                icon={screenfield.type.icon}
                title={displayName}
                text={labels.fieldExtensionPreviewDescription}
                tabindex="-1"
            >
            </builder_platform_interaction-screen-field-card>
        </div>
    </div>
</template>
