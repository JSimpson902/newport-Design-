<template>
    <div class="slds-grid slds-gutters slds-grid_vertical-align-start slds-gutters_xx-small">
        <builder_platform_interaction-combobox class="lhs slds-col slds-grow"
                label={lhsLabel}
                value={state.normalizedLHS.item}
                onfetchmenudata={handleFetchLHSMenuData}
                oncomboboxstatechanged={handleLHSValueChanged}
                onitemselected={handleLHSItemSelected}
                onfiltermatches={handleFilterLHSMatches}
                menu-data={lhsMenuData}
                allowed-param-types={lhsTypes}
                error-message={state.expression.leftHandSide.error}
                literals-allowed=false
                placeholder={lhsPlaceholder}
                >
        </builder_platform_interaction-combobox>
        <template if:true={showOperatorCombobox}>
            <lightning-combobox class="operator slds-col slds-grow slds-size_x-small"
                    label={operatorLabel}
                    value={operatorComboBoxValue}
                    disabled={operatorAndRHSDisabled}
                    options={state.operatorMenuData}
                    onchange={handleOperatorChanged}
                    placeholder={operatorPlaceholder}
                    dropdown-alignment="auto"
                    >
            </lightning-combobox>
        </template>
        <template if:true={hasOperatorReplacement}>
            <div class="slds-grow-none">
                <!-- TODO: label needs to be dynamic and localized W-5135682-->
                <label class="slds-form-element__label slds-is-visually-empty"> to </label>
                <div class="expression-builder-icon-padding slds-align_absolute-center">
                    <lightning-icon
                            size="x-small"
                            class="slds-icon slds-icon_x-small"
                            variant="container"
                            icon-name={operatorDisplayOption}
                            >
                    </lightning-icon>
                </div>
            </div>
        </template>
        <builder_platform_interaction-combobox class="rhs slds-col slds-grow"
                label={rhsLabel}
                value={state.normalizedRHS.itemOrDisplayText}
                disabled={operatorAndRHSDisabled}
                onfetchmenudata={handleFetchRHSMenuData}
                oncomboboxstatechanged={handleRHSValueChanged}
                onfiltermatches={handleFilterRHSMatches}
                menu-data={rhsMenuData}
                type={lhsType}
                allowed-param-types={state.rhsTypes}
                error-message={state.expression.rightHandSide.error}
                placeholder={rhsPlaceholder}
                literals-allowed={rhsLiteralsAllowed}
                >
        </builder_platform_interaction-combobox>
    </div>
</template>
