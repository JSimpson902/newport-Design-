{
    "createdById": "005xx000001XAgTAAW",
    "createdDate": "2021-10-20T09:37:18.000+0000",
    "definitionId": "300xx000000brO5AAI",
    "fieldsToNull": [],
    "fullName": "recommendationFlow",
    "id": "301xx000003GbQRAA0",
    "lastModifiedBy": {
        "fieldsToNull": [],
        "name": "User User"
    },
    "lastModifiedById": "005xx000001XAgTAAW",
    "lastModifiedDate": "2021-10-20T09:37:24.000+0000",
    "manageableState": "unmanaged",
    "masterLabel": "recommendationFlow",
    "metadata": {
        "actionCalls": [],
        "apexPluginCalls": [],
        "apiVersion": 54,
        "assignments": [
            {
                "assignmentItems": [
                    {
                        "assignToReference": "apexVar.myString",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "stringValue": "Test"
                        }
                    },
                    {
                        "assignToReference": "apexCollection",
                        "operator": "Add",
                        "processMetadataValues": [],
                        "value": {
                            "elementReference": "apexVar"
                        }
                    }
                ],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Filter_Apex_collection"
                },
                "label": "Assign apex collection",
                "locationX": 176,
                "locationY": 1118,
                "name": "Assign_apex_collection",
                "processMetadataValues": []
            },
            {
                "assignmentItems": [
                    {
                        "assignToReference": "textVar",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "elementReference": "Loop_filter_text_collection"
                        }
                    }
                ],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Loop_filter_text_collection"
                },
                "label": "Assign text",
                "locationX": 264,
                "locationY": 1478,
                "name": "Assign_text",
                "processMetadataValues": []
            },
            {
                "assignmentItems": [
                    {
                        "assignToReference": "vTextCollection",
                        "operator": "Add",
                        "processMetadataValues": [],
                        "value": {
                            "stringValue": "foo"
                        }
                    },
                    {
                        "assignToReference": "vTextCollection",
                        "operator": "Add",
                        "processMetadataValues": [],
                        "value": {
                            "stringValue": "bar"
                        }
                    },
                    {
                        "assignToReference": "vTextCollection",
                        "operator": "Add",
                        "processMetadataValues": [],
                        "value": {
                            "stringValue": "woo"
                        }
                    }
                ],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Filter_text_collection"
                },
                "label": "Assign Text Collection",
                "locationX": 176,
                "locationY": 878,
                "name": "Assign_Text_Collection",
                "processMetadataValues": []
            },
            {
                "assignmentItems": [
                    {
                        "assignToReference": "textVar",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "elementReference": "Loop_on_filter_accounts.BillingCity"
                        }
                    }
                ],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Loop_on_filter_accounts"
                },
                "label": "Assign text from account billing city",
                "locationX": 264,
                "locationY": 1814,
                "name": "Assign_text_from_account_billing_city",
                "processMetadataValues": []
            },
            {
                "assignmentItems": [
                    {
                        "assignToReference": "outputRecommendations",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "elementReference": "Modify_recommendations"
                        }
                    }
                ],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Filter_Get_Accounts_By_Conditions"
                },
                "label": "Assign to outputRecommendations",
                "locationX": 176,
                "locationY": 518,
                "name": "Assign_to_outputRecommendations",
                "processMetadataValues": []
            }
        ],
        "choices": [],
        "collectionProcessors": [
            {
                "assignNextValueToReference": "currentItem_Accounts_to_Recommendations",
                "collectionProcessorType": "RecommendationMapCollectionProcessor",
                "collectionReference": "Get_Accounts",
                "conditions": [],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Modify_recommendations"
                },
                "elementSubtype": "RecommendationMapCollectionProcessor",
                "label": "Accounts to Recommendations",
                "locationX": 176,
                "locationY": 278,
                "mapItems": [
                    {
                        "assignToFieldReference": "AcceptanceLabel",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "stringValue": "Accept"
                        }
                    },
                    {
                        "assignToFieldReference": "ActionReference",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "stringValue": "action"
                        }
                    },
                    {
                        "assignToFieldReference": "Description",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "elementReference": "currentItem_Accounts_to_Recommendations.Description"
                        }
                    },
                    {
                        "assignToFieldReference": "Name",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "elementReference": "currentItem_Accounts_to_Recommendations.Name"
                        }
                    },
                    {
                        "assignToFieldReference": "RejectionLabel",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "stringValue": "Reject"
                        }
                    }
                ],
                "name": "Accounts_to_Recommendations",
                "outputSObjectType": "Recommendation",
                "processMetadataValues": [],
                "sortOptions": []
            },
            {
                "assignNextValueToReference": "currentItem_Filter_Apex_collection",
                "collectionProcessorType": "FilterCollectionProcessor",
                "collectionReference": "apexCollection",
                "conditionLogic": "and",
                "conditions": [
                    {
                        "leftValueReference": "currentItem_Filter_Apex_collection.myString",
                        "operator": "EqualTo",
                        "processMetadataValues": [],
                        "rightValue": {
                            "stringValue": "Test"
                        }
                    }
                ],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Loop_filter_text_collection"
                },
                "elementSubtype": "FilterCollectionProcessor",
                "label": "Filter Apex collection",
                "locationX": 176,
                "locationY": 1238,
                "mapItems": [],
                "name": "Filter_Apex_collection",
                "processMetadataValues": [],
                "sortOptions": []
            },
            {
                "assignNextValueToReference": "currentItem_Filter_Get_Accounts_By_Conditions",
                "collectionProcessorType": "FilterCollectionProcessor",
                "collectionReference": "Get_Accounts",
                "conditionLogic": "and",
                "conditions": [
                    {
                        "leftValueReference": "currentItem_Filter_Get_Accounts_By_Conditions.Name",
                        "operator": "EqualTo",
                        "processMetadataValues": [],
                        "rightValue": {
                            "stringValue": "Test"
                        }
                    },
                    {
                        "leftValueReference": "currentItem_Filter_Get_Accounts_By_Conditions.BillingAddress",
                        "operator": "NotEqualTo",
                        "processMetadataValues": [],
                        "rightValue": {
                            "stringValue": "My address"
                        }
                    }
                ],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Filter_Get_Accounts_By_Formula"
                },
                "elementSubtype": "FilterCollectionProcessor",
                "label": "Filter Get Accounts by conditions",
                "locationX": 176,
                "locationY": 638,
                "mapItems": [],
                "name": "Filter_Get_Accounts_By_Conditions",
                "processMetadataValues": [],
                "sortOptions": []
            },
            {
                "assignNextValueToReference": "currentItem_Filter_Get_Accounts_By_Formula",
                "collectionProcessorType": "FilterCollectionProcessor",
                "collectionReference": "Get_Accounts",
                "conditionLogic": "formula_evaluates_to_true",
                "conditions": [],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Assign_Text_Collection"
                },
                "elementSubtype": "FilterCollectionProcessor",
                "formula": "BEGINS({!currentItem_Filter_Get_Accounts_By_Formula.Name}, 'Test')",
                "label": "Filter Get Accounts By Formula",
                "locationX": 176,
                "locationY": 758,
                "mapItems": [],
                "name": "Filter_Get_Accounts_By_Formula",
                "processMetadataValues": [],
                "sortOptions": []
            },
            {
                "assignNextValueToReference": "currentItem_Filter_text_collection",
                "collectionProcessorType": "FilterCollectionProcessor",
                "collectionReference": "vTextCollection",
                "conditionLogic": "and",
                "conditions": [
                    {
                        "leftValueReference": "currentItem_Filter_text_collection",
                        "operator": "Contains",
                        "processMetadataValues": [],
                        "rightValue": {
                            "stringValue": "oo"
                        }
                    }
                ],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Assign_apex_collection"
                },
                "elementSubtype": "FilterCollectionProcessor",
                "label": "Filter text collection",
                "locationX": 176,
                "locationY": 998,
                "mapItems": [],
                "name": "Filter_text_collection",
                "processMetadataValues": [],
                "sortOptions": []
            },
            {
                "assignNextValueToReference": "currentItem_Modify_recommendations",
                "collectionProcessorType": "RecommendationMapCollectionProcessor",
                "collectionReference": "Accounts_to_Recommendations",
                "conditions": [],
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Assign_to_outputRecommendations"
                },
                "elementSubtype": "RecommendationMapCollectionProcessor",
                "label": "Modify recommendations",
                "locationX": 176,
                "locationY": 398,
                "mapItems": [
                    {
                        "assignToFieldReference": "AcceptanceLabel",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "stringValue": "Yes, thanks"
                        }
                    },
                    {
                        "assignToFieldReference": "RejectionLabel",
                        "operator": "Assign",
                        "processMetadataValues": [],
                        "value": {
                            "stringValue": "No, thanks"
                        }
                    }
                ],
                "name": "Modify_recommendations",
                "outputSObjectType": "Recommendation",
                "processMetadataValues": [],
                "sortOptions": []
            }
        ],
        "constants": [],
        "decisions": [],
        "dynamicChoiceSets": [],
        "formulas": [],
        "interviewLabel": "recommendationFlow {!$Flow.CurrentDateTime}",
        "isAdditionalPermissionRequiredToRun": false,
        "isOverridable": false,
        "isTemplate": false,
        "label": "recommendationFlow",
        "loops": [
            {
                "collectionReference": "Filter_text_collection",
                "iterationOrder": "Asc",
                "label": "Loop filter text collection",
                "locationX": 176,
                "locationY": 1358,
                "name": "Loop_filter_text_collection",
                "nextValueConnector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Assign_text"
                },
                "noMoreValuesConnector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Loop_on_filter_accounts"
                },
                "processMetadataValues": []
            },
            {
                "collectionReference": "Filter_Get_Accounts_By_Conditions",
                "iterationOrder": "Asc",
                "label": "Loop on filter accounts",
                "locationX": 176,
                "locationY": 1694,
                "name": "Loop_on_filter_accounts",
                "nextValueConnector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Assign_text_from_account_billing_city"
                },
                "processMetadataValues": []
            }
        ],
        "orchestratedStages": [],
        "processMetadataValues": [
            {
                "name": "BuilderType",
                "value": {
                    "stringValue": "LightningFlowBuilder"
                }
            },
            {
                "name": "CanvasMode",
                "value": {
                    "stringValue": "AUTO_LAYOUT_CANVAS"
                }
            },
            {
                "name": "OriginBuilderType",
                "value": {
                    "stringValue": "LightningFlowBuilder"
                }
            }
        ],
        "processType": "RecommendationStrategy",
        "recordCreates": [],
        "recordDeletes": [],
        "recordLookups": [
            {
                "assignNullValuesIfNoRecordsFound": false,
                "connector": {
                    "isGoTo": false,
                    "processMetadataValues": [],
                    "targetReference": "Accounts_to_Recommendations"
                },
                "filters": [],
                "getFirstRecordOnly": false,
                "label": "Get Accounts",
                "locationX": 176,
                "locationY": 158,
                "name": "Get_Accounts",
                "object": "Account",
                "outputAssignments": [],
                "processMetadataValues": [],
                "queriedFields": [],
                "storeOutputAutomatically": true
            }
        ],
        "recordRollbacks": [],
        "recordUpdates": [],
        "screens": [],
        "stages": [],
        "start": {
            "connector": {
                "isGoTo": false,
                "processMetadataValues": [],
                "targetReference": "Get_Accounts"
            },
            "doesRequireRecordChangedToMeetCriteria": false,
            "filters": [],
            "locationX": 50,
            "locationY": 0,
            "processMetadataValues": [],
            "scheduledPaths": []
        },
        "status": "Active",
        "steps": [],
        "subflows": [],
        "textTemplates": [],
        "variables": [
            {
                "apexClass": "MyApexClass",
                "dataType": "Apex",
                "isCollection": true,
                "isInput": false,
                "isOutput": false,
                "name": "apexCollection",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "apexClass": "MyApexClass",
                "dataType": "Apex",
                "isCollection": false,
                "isInput": false,
                "isOutput": false,
                "name": "apexVar",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "dataType": "SObject",
                "isCollection": false,
                "isInput": true,
                "isOutput": false,
                "name": "currentItem_Accounts_to_Recommendations",
                "objectType": "Account",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "apexClass": "MyApexClass",
                "dataType": "Apex",
                "isCollection": false,
                "isInput": false,
                "isOutput": false,
                "name": "currentItem_Filter_Apex_collection",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "dataType": "SObject",
                "isCollection": false,
                "isInput": false,
                "isOutput": false,
                "name": "currentItem_Filter_Get_Accounts_By_Conditions",
                "objectType": "Account",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "dataType": "SObject",
                "isCollection": false,
                "isInput": false,
                "isOutput": false,
                "name": "currentItem_Filter_Get_Accounts_By_Formula",
                "objectType": "Account",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "dataType": "String",
                "isCollection": false,
                "isInput": false,
                "isOutput": false,
                "name": "currentItem_Filter_text_collection",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "dataType": "SObject",
                "isCollection": false,
                "isInput": true,
                "isOutput": false,
                "name": "currentItem_Modify_recommendations",
                "objectType": "Recommendation",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "dataType": "SObject",
                "isCollection": true,
                "isInput": false,
                "isOutput": true,
                "name": "outputRecommendations",
                "objectType": "Recommendation",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "dataType": "String",
                "isCollection": false,
                "isInput": true,
                "isOutput": false,
                "name": "recordId",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "dataType": "String",
                "isCollection": false,
                "isInput": false,
                "isOutput": false,
                "name": "textVar",
                "processMetadataValues": [],
                "scale": 0
            },
            {
                "dataType": "String",
                "isCollection": true,
                "isInput": false,
                "isOutput": false,
                "name": "vTextCollection",
                "processMetadataValues": [],
                "scale": 0
            }
        ],
        "waits": []
    },
    "processType": "RecommendationStrategy",
    "status": "Active",
    "versionNumber": 1
}
